(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=(n(12),n(13),n(2)),u=n(1),l=function(e,t){return Object(u.c)(0,e).flatMap((function(e,n){return Object(u.c)(0,t).map((function(e,t){return Object(u.a)([n,t])}))})).toList()},s=function(e){return e.reduce((function(e,t){return e+t}),0)},m=function(e,t){return Object(u.b)(e.map((function(e){return[e,t(e)]})))},f=function(e,t){return Object(u.b)(e.map((function(e){return[e,t]})))},v={active:0,won:1,lost:2},d=function(e){return Object(u.b)(v).flip().get(e)},g={0:"\ud83d\ude42",1:"\ud83d\ude0e",2:"\ud83d\ude35"},p=n(6),b=n(5),h=n.n(b);n(14);var E=function(e){var t,n=e.isMine,a=e.mineCount,c=e.isRevealed,i=e.setIsRevealed,o=e.isFlagged,u=e.setIsFlagged,l=e.gameState,s=e.setGameState,m=function(e){l||o||(i(),n&&s(v.lost)),e.preventDefault()},f=function(e){u(!o),e.preventDefault()},d=!1,g=!1,b={};c||l?(n?t="\ud83d\udca3":(t=a||"",b["m".concat(a)]=!0),l&&(d=o&&n,g=o!==n)):t=o?"\ud83d\udea9":"";var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e).filter((function(t){return e[t]}));return"".concat(t," ").concat(n.join(" ")).trim()}(Object(p.a)({isRevealed:c,correct:d,incorrect:g,isFlagged:o,isMine:n},b),"cell"),M={width:35,height:35};return r.a.createElement(h.a,{onTap:m,onSwipe:f},r.a.createElement("div",{className:E,style:M,onClick:m,onContextMenu:f},t))},M=function(e,t,n){var a=l(e,t),r=m(a,(function(e){return t=n,Math.random()<t;var t})),c=function(e){return r.get(e)||0},i=m(a,(function(e){return s(O(e,a).map(c))}));return{mineMap:r,countMap:i}},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(l(e,t),n)},O=function(e,t){return function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return[[n-1,a-1],[n,a-1],[n+1,a-1],[n-1,a],[n+1,a],[n-1,a+1],[n,a+1],[n+1,a+1]].map(u.a)}(e).filter((function(e){return t.includes(e)}))},S=function(e,t){return Object(u.d)(e.flatMap((function(e){return O(e,t)})))},w=function(e,t,n){for(var a,r=Object(u.d)([e]),c=Object(u.d)();r.size>0;)a=Object(u.d)(r),r=Object(u.d)(),r=S(a,t).filterNot((function(e){return c.includes(e)})).filter((function(e){return 0===n.get(e)})),c=c.union(r);return c};n(15);var k=function(e){var t=e.width,n=e.height,a=e.mineMap,c=e.countMap,i=e.revealMap,u=e.setRevealMap,s=e.flagMap,m=e.setFlagMap,d=e.gameState,g=e.setGameState,p=l(t,n),b=function(e,t){0===p.filter((function(n){return!(t.get(n)||e.get(n))})).size&&g(v.won)},h=p.map((function(e){return r.a.createElement(E,{isMine:a.get(e),mineCount:c.get(e),isRevealed:i.get(e),setIsRevealed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(t=t.set(e,!0),0===c.get(e)){var a=w(e,p,c),r=S(a,p),l=a.union(r);t=t.merge(f(l,!0)),n=n.mapEntries((function(e){var t=Object(o.a)(e,2),n=t[0];return[n,t[1]&&!l.has(n)]}))}u(t),m(n),b(t,n)},isFlagged:s.get(e),setIsFlagged:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;n=n.set(e,t),m(n),b(i,n)},gameState:d,setGameState:g,revealMap:i,key:e})})),M={width:35*t,height:35*n};return r.a.createElement("div",{className:"board",style:M},h)};n(16);var C=function(e){var t=e.gameState,n=e.minesLeft,a=e.newGameButton,c=g[t];return r.a.createElement("div",{className:"score-container"},r.a.createElement("button",{className:"face",onClick:a},r.a.createElement("span",{role:"img","aria-label":d(t)},c)),r.a.createElement("span",{className:"score"},n," ",r.a.createElement("span",{role:"img","aria-label":"mines left"},"\ud83d\udca3")))};n(17);var N=function(e){var t=Object(a.useState)(9),n=Object(o.a)(t,2),c=n[0],i=n[1],u=Object(a.useState)(v.active),l=Object(o.a)(u,2),m=l[0],f=l[1],g=Object(a.useState)(.1),p=Object(o.a)(g,2),b=p[0],h=p[1],E=c,O=function(){return M(c,E,b)},S=Object(a.useState)(O),w=Object(o.a)(S,2),N=w[0],y=N.mineMap,F=N.countMap,R=w[1],G=function(){return j(c,E)},I=Object(a.useState)(G),B=Object(o.a)(I,2),x=B[0],z=B[1],L=Object(a.useState)(G),q=Object(o.a)(L,2),D=q[0],J=q[1];Object(a.useEffect)((function(){R(M(c,E,b)),z(j(c,E)),J(j(c,E))}),[c,E,b]);var W=function(e){return Math.round(10*e)/10},A=function(e){f(v.active),R(O),z(G),J(G)},T=s(y.valueSeq()),$=T-s(D.valueSeq());return r.a.createElement("div",{className:"container"},r.a.createElement(C,{gameState:m,minesLeft:$,newGameButton:A}),r.a.createElement(k,{width:c,height:E,mineMap:y,countMap:F,revealMap:x,setRevealMap:z,flagMap:D,setFlagMap:J,gameState:m,setGameState:f}),r.a.createElement("div",{className:"controls"},r.a.createElement("div",null,"Size: ",r.a.createElement("button",{onClick:function(e){c>1&&i(c-1)}},"-"),c,r.a.createElement("button",{onClick:function(e){i(c+1)}},"+")),r.a.createElement("div",null,"Mines density: ",r.a.createElement("button",{onClick:function(e){h(Math.max(W(b-.1),0))}},"-"),b,r.a.createElement("button",{onClick:function(e){h(Math.min(W(b+.1),1))}},"+")),r.a.createElement("div",null,"Mines: ",T),r.a.createElement("div",null,"State: ",d(m)),r.a.createElement("div",null,"New game:",r.a.createElement("button",{onClick:A},"go"))))};var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.00c583cc.chunk.js.map