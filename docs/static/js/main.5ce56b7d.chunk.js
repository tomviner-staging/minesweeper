(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=(n(11),n(12),n(2)),u=n(1),l=function(e,t){return Object(u.c)(0,e).flatMap((function(e,n){return Object(u.c)(0,t).map((function(e,t){return Object(u.a)([n,t])}))})).toList()},s=function(e){return e.reduce((function(e,t){return e+t}),0)},m=function(e,t){return Object(u.b)(e.map((function(e){return[e,t(e)]})))},f=function(e,t){return Object(u.b)(e.map((function(e){return[e,t]})))},v={active:0,won:1,lost:2},d=function(e){return Object(u.b)(v).flip().get(e)},g={0:"\ud83d\ude42",1:"\ud83d\ude0e",2:"\ud83d\ude35"},b=n(5);n(13);var p=function(e){var t,n=e.isMine,a=e.mineCount,c=e.isRevealed,i=e.setIsRevealed,o=e.isFlagged,u=e.setIsFlagged,l=e.gameState,s=e.setGameState,m=!1,f=!1,d={};c||l?(n?t="\ud83d\udca3":(t=a||"",d["m".concat(a)]=!0),l&&(m=o&&n,f=o!==n)):t=o?"\ud83d\udea9":"";var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e).filter((function(t){return e[t]}));return"".concat(t," ").concat(n.join(" ")).trim()}(Object(b.a)({isRevealed:c,correct:m,incorrect:f,isFlagged:o,isMine:n},d),"cell"),p={width:35,height:35};return r.a.createElement("div",{className:g,onClick:function(e){l||o||(i(),n&&s(v.lost)),e.preventDefault()},onContextMenu:function(e){u(!o),e.preventDefault()},style:p},t)},h=function(e,t,n){var a=l(e,t),r=m(a,(function(e){return t=n,Math.random()<t;var t})),c=function(e){return r.get(e)||0},i=m(a,(function(e){return s(j(e,a).map(c))}));return{mineMap:r,countMap:i}},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(l(e,t),n)},j=function(e,t){return function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return[[n-1,a-1],[n,a-1],[n+1,a-1],[n-1,a],[n+1,a],[n-1,a+1],[n,a+1],[n+1,a+1]].map(u.a)}(e).filter((function(e){return t.includes(e)}))},E=function(e,t){return Object(u.d)(e.flatMap((function(e){return j(e,t)})))},O=function(e,t,n){for(var a,r=Object(u.d)([e]),c=Object(u.d)();r.size>0;)a=Object(u.d)(r),r=Object(u.d)(),r=E(a,t).filterNot((function(e){return c.includes(e)})).filter((function(e){return 0===n.get(e)})),c=c.union(r);return c};n(14);var S=function(e){var t=e.width,n=e.height,a=e.mineMap,c=e.countMap,i=e.revealMap,u=e.setRevealMap,s=e.flagMap,m=e.setFlagMap,d=e.gameState,g=e.setGameState,b=l(t,n),h=function(e,t){0===b.filter((function(n){return!(t.get(n)||e.get(n))})).size&&g(v.won)},M=b.map((function(e){return r.a.createElement(p,{isMine:a.get(e),mineCount:c.get(e),isRevealed:i.get(e),setIsRevealed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(t=t.set(e,!0),0===c.get(e)){var a=O(e,b,c),r=E(a,b),l=a.union(r);t=t.merge(f(l,!0)),n=n.mapEntries((function(e){var t=Object(o.a)(e,2),n=t[0];return[n,t[1]&&!l.has(n)]}))}u(t),m(n),h(t,n)},isFlagged:s.get(e),setIsFlagged:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;n=n.set(e,t),m(n),h(i,n)},gameState:d,setGameState:g,revealMap:i,key:e})})),j={width:35*t,height:35*n};return r.a.createElement("div",{className:"board",style:j},M)};n(15);var w=function(e){var t=e.gameState,n=e.minesLeft,a=e.newGameButton,c=g[t];return r.a.createElement("div",{className:"score-container"},r.a.createElement("button",{className:"face",onClick:a},r.a.createElement("span",{role:"img","aria-label":d(t)},c)),r.a.createElement("span",{className:"score"},n," ",r.a.createElement("span",{role:"img","aria-label":"mines left"},"\ud83d\udca3")))};n(16);var k=function(e){var t=Object(a.useState)(9),n=Object(o.a)(t,2),c=n[0],i=n[1],u=Object(a.useState)(v.active),l=Object(o.a)(u,2),m=l[0],f=l[1],g=Object(a.useState)(.1),b=Object(o.a)(g,2),p=b[0],j=b[1],E=c,O=function(){return h(c,E,p)},k=Object(a.useState)(O),C=Object(o.a)(k,2),N=C[0],y=N.mineMap,F=N.countMap,R=C[1],G=function(){return M(c,E)},I=Object(a.useState)(G),B=Object(o.a)(I,2),x=B[0],z=B[1],L=Object(a.useState)(G),q=Object(o.a)(L,2),D=q[0],J=q[1];Object(a.useEffect)((function(){R(h(c,E,p)),z(M(c,E)),J(M(c,E))}),[c,E,p]);var W=function(e){return Math.round(10*e)/10},A=function(e){f(v.active),R(O),z(G),J(G)},$=s(y.valueSeq()),H=$-s(D.valueSeq());return r.a.createElement("div",{className:"container"},r.a.createElement(w,{gameState:m,minesLeft:H,newGameButton:A}),r.a.createElement(S,{width:c,height:E,mineMap:y,countMap:F,revealMap:x,setRevealMap:z,flagMap:D,setFlagMap:J,gameState:m,setGameState:f}),r.a.createElement("div",{className:"controls"},r.a.createElement("div",null,"Size: ",r.a.createElement("button",{onClick:function(e){c>1&&i(c-1)}},"-"),c,r.a.createElement("button",{onClick:function(e){i(c+1)}},"+")),r.a.createElement("div",null,"Mines density: ",r.a.createElement("button",{onClick:function(e){j(Math.max(W(p-.1),0))}},"-"),p,r.a.createElement("button",{onClick:function(e){j(Math.min(W(p+.1),1))}},"+")),r.a.createElement("div",null,"Mines: ",$),r.a.createElement("div",null,"State: ",d(m)),r.a.createElement("div",null,"New game:",r.a.createElement("button",{onClick:A},"go"))))};var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.5ce56b7d.chunk.js.map