(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=(n(12),n(13),n(2)),u=n(1),l=function(e,t){return Object(u.c)(0,e).flatMap((function(e,n){return Object(u.c)(0,t).map((function(e,t){return Object(u.a)([n,t])}))})).toList()},s=function(e){return e.reduce((function(e,t){return e+t}),0)},m=function(e,t){return Object(u.b)(e.map((function(e){return[e,t(e)]})))},f=function(e,t){return Object(u.b)(e.map((function(e){return[e,t]})))},v={active:0,won:1,lost:2},d=function(e){return Object(u.b)(v).flip().get(e)},g={0:"\ud83d\ude42",1:"\ud83d\ude0e",2:"\ud83d\ude35"},p=n(6),b=(n(14),n(5));n(15);var h=function(e){var t,n=e.isMine,a=e.mineCount,c=e.isRevealed,i=e.setIsRevealed,o=e.isFlagged,u=e.setIsFlagged,l=e.gameState,s=e.setGameState,m=function(e){e.preventDefault&&e.preventDefault(),l||o||(i(),n&&s(v.lost))},f=function(e){e.preventDefault&&e.preventDefault(),u(!o)},d=!1,g=!1,h={};c||l?(n?t="\ud83d\udca3":(t=a||"",h["m".concat(a)]=!0),l&&(d=o&&n,g=o!==n)):t=o?"\ud83d\udea9":"";var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e).filter((function(t){return e[t]}));return"".concat(t," ").concat(n.join(" ")).trim()}(Object(p.a)({isRevealed:c,correct:d,incorrect:g,isFlagged:o,isMine:n},h),"cell"),M={width:35,height:35};return r.a.createElement(b.a,{onShortPress:m,onLongPress:f},r.a.createElement("div",{className:E,style:M,onClick:m,onContextMenu:f},t))},E=function(e,t,n){var a=l(e,t),r=m(a,(function(e){return t=n,Math.random()<t;var t})),c=function(e){return r.get(e)||0},i=m(a,(function(e){return s(j(e,a).map(c))}));return{mineMap:r,countMap:i}},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(l(e,t),n)},j=function(e,t){return function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return[[n-1,a-1],[n,a-1],[n+1,a-1],[n-1,a],[n+1,a],[n-1,a+1],[n,a+1],[n+1,a+1]].map(u.a)}(e).filter((function(e){return t.includes(e)}))},O=function(e,t){return Object(u.d)(e.flatMap((function(e){return j(e,t)})))},S=function(e,t,n){for(var a,r=Object(u.d)([e]),c=Object(u.d)();r.size>0;)a=Object(u.d)(r),r=Object(u.d)(),r=O(a,t).filterNot((function(e){return c.includes(e)})).filter((function(e){return 0===n.get(e)})),c=c.union(r);return c};n(16);var w=function(e){var t=e.width,n=e.height,a=e.mineMap,c=e.countMap,i=e.revealMap,u=e.setRevealMap,s=e.flagMap,m=e.setFlagMap,d=e.gameState,g=e.setGameState,p=l(t,n),b=function(e,t){0===p.filter((function(n){return!(t.get(n)||e.get(n))})).size&&g(v.won)},E=p.map((function(e){return r.a.createElement(h,{isMine:a.get(e),mineCount:c.get(e),isRevealed:i.get(e),setIsRevealed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(t=t.set(e,!0),0===c.get(e)){var a=S(e,p,c),r=O(a,p),l=a.union(r);t=t.merge(f(l,!0)),n=n.mapEntries((function(e){var t=Object(o.a)(e,2),n=t[0];return[n,t[1]&&!l.has(n)]}))}u(t),m(n),b(t,n)},isFlagged:s.get(e),setIsFlagged:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;n=n.set(e,t),m(n),b(i,n)},gameState:d,setGameState:g,revealMap:i,key:e})})),M={width:35*t,height:35*n};return r.a.createElement("div",{className:"board",style:M},E)};n(17);var k=function(e){var t=e.gameState,n=e.minesLeft,a=e.newGameButton,c=g[t];return r.a.createElement("div",{className:"score-container"},r.a.createElement("button",{className:"face",onClick:a},r.a.createElement("span",{role:"img","aria-label":d(t)},c)),r.a.createElement("span",{className:"score"},n," ",r.a.createElement("span",{role:"img","aria-label":"mines left"},"\ud83d\udca3")))};n(18);var C=function(e){var t=Object(a.useState)(9),n=Object(o.a)(t,2),c=n[0],i=n[1],u=Object(a.useState)(v.active),l=Object(o.a)(u,2),m=l[0],f=l[1],g=Object(a.useState)(.1),p=Object(o.a)(g,2),b=p[0],h=p[1],j=c,O=function(){return E(c,j,b)},S=Object(a.useState)(O),C=Object(o.a)(S,2),N=C[0],y=N.mineMap,F=N.countMap,R=C[1],G=function(){return M(c,j)},I=Object(a.useState)(G),B=Object(o.a)(I,2),D=B[0],L=B[1],x=Object(a.useState)(G),z=Object(o.a)(x,2),q=z[0],J=z[1];Object(a.useEffect)((function(){R(E(c,j,b)),L(M(c,j)),J(M(c,j))}),[c,j,b]);var P=function(e){return Math.round(10*e)/10},W=function(e){f(v.active),R(O),L(G),J(G)},A=s(y.valueSeq()),$=A-s(q.valueSeq());return r.a.createElement("div",{className:"container"},r.a.createElement(k,{gameState:m,minesLeft:$,newGameButton:W}),r.a.createElement(w,{width:c,height:j,mineMap:y,countMap:F,revealMap:D,setRevealMap:L,flagMap:q,setFlagMap:J,gameState:m,setGameState:f}),r.a.createElement("div",{className:"controls"},r.a.createElement("div",null,"Size: ",r.a.createElement("button",{onClick:function(e){c>1&&i(c-1)}},"-"),c,r.a.createElement("button",{onClick:function(e){i(c+1)}},"+")),r.a.createElement("div",null,"Mines density: ",r.a.createElement("button",{onClick:function(e){h(Math.max(P(b-.1),0))}},"-"),b,r.a.createElement("button",{onClick:function(e){h(Math.min(P(b+.1),1))}},"+")),r.a.createElement("div",null,"Mines: ",A),r.a.createElement("div",null,"State: ",d(m)),r.a.createElement("div",null,"New game:",r.a.createElement("button",{onClick:W},"go"))))};var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.99827b37.chunk.js.map