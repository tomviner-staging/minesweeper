(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=(n(12),n(13),n(2)),u=n(1),l=function(e,t){return Object(u.c)(0,e).flatMap((function(e,n){return Object(u.c)(0,t).map((function(e,t){return Object(u.a)([n,t])}))})).toList()},s=function(e){return e.reduce((function(e,t){return e+t}),0)},m=function(e,t){return Object(u.b)(e.map((function(e){return[e,t(e)]})))},f=function(e,t){return Object(u.b)(e.map((function(e){return[e,t]})))},v={active:0,won:1,lost:2},g={0:"\ud83d\ude42",1:"\ud83d\ude0e",2:"\ud83d\ude35"},p=n(6),d=n(5),b=n.n(d);n(14);var h=function(e){var t,n=e.isMine,a=e.mineCount,c=e.isRevealed,i=e.setIsRevealed,o=e.isFlagged,u=e.setIsFlagged,l=e.gameState,s=e.setGameState,m=function(e){e.preventDefault&&e.preventDefault(),l||o||(i(),n&&s(v.lost))},f=function(e){e.preventDefault&&e.preventDefault(),u(!o)},g=!1,d=!1,h={};c||l?(n?t="\ud83d\udca3":(t=a||"",h["m".concat(a)]=!0),l&&(g=o&&n,d=o!==n)):t=o?"\ud83d\udea9":"";var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e).filter((function(t){return e[t]}));return"".concat(t," ").concat(n.join(" ")).trim()}(Object(p.a)({isRevealed:c,correct:g,incorrect:d,isFlagged:o,isMine:n},h),"cell"),j={width:35,height:35};return r.a.createElement(b.a,{onTap:m,onSwipe:f},r.a.createElement("div",{className:E,style:j,onClick:m,onContextMenu:f},t))},E=function(e,t,n){var a=l(e,t),r=m(a,(function(e){return t=n,Math.random()<t;var t})),c=function(e){return r.get(e)||0},i=m(a,(function(e){return s(M(e,a).map(c))}));return{mineMap:r,countMap:i}},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(l(e,t),n)},M=function(e,t){return function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return[[n-1,a-1],[n,a-1],[n+1,a-1],[n-1,a],[n+1,a],[n-1,a+1],[n,a+1],[n+1,a+1]].map(u.a)}(e).filter((function(e){return t.includes(e)}))},O=function(e,t){return Object(u.d)(e.flatMap((function(e){return M(e,t)})))},w=function(e,t,n){for(var a,r=Object(u.d)([e]),c=Object(u.d)();r.size>0;)a=Object(u.d)(r),r=Object(u.d)(),r=O(a,t).filterNot((function(e){return c.includes(e)})).filter((function(e){return 0===n.get(e)})),c=c.union(r);return c};n(15);var S=function(e){var t=e.width,n=e.height,a=e.mineMap,c=e.countMap,i=e.revealMap,u=e.setRevealMap,s=e.flagMap,m=e.setFlagMap,g=e.gameState,p=e.setGameState,d=l(t,n),b=function(e,t){0===d.filter((function(n){return!(t.get(n)||e.get(n))})).size&&p(v.won)},E=d.map((function(e){return r.a.createElement(h,{isMine:a.get(e),mineCount:c.get(e),isRevealed:i.get(e),setIsRevealed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(t=t.set(e,!0),0===c.get(e)){var a=w(e,d,c),r=O(a,d),l=a.union(r);t=t.merge(f(l,!0)),n=n.mapEntries((function(e){var t=Object(o.a)(e,2),n=t[0];return[n,t[1]&&!l.has(n)]}))}u(t),m(n),b(t,n)},isFlagged:s.get(e),setIsFlagged:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;n=n.set(e,t),m(n),b(i,n)},gameState:g,setGameState:p,revealMap:i,key:e})})),j={width:35*t,height:35*n};return r.a.createElement("div",{className:"board",style:j},E)};n(16);var k=function(e){var t,n=e.gameState,a=e.minesLeft,c=e.newGameButton,i=g[n];return r.a.createElement("div",{className:"score-container"},r.a.createElement("button",{className:"face",onClick:c},r.a.createElement("span",{role:"img","aria-label":(t=n,Object(u.b)(v).flip().get(t))},i)),r.a.createElement("span",{className:"score"},a," ",r.a.createElement("span",{role:"img","aria-label":"mines left"},"\ud83d\udca3")))};n(17);var C=function(e){var t=Object(a.useState)(9),n=Object(o.a)(t,2),c=n[0],i=n[1],u=Object(a.useState)(v.active),l=Object(o.a)(u,2),m=l[0],f=l[1],g=Object(a.useState)(.1),p=Object(o.a)(g,2),d=p[0],b=p[1],h=c,M=function(){return E(c,h,d)},O=Object(a.useState)(M),w=Object(o.a)(O,2),C=w[0],N=C.mineMap,F=C.countMap,R=w[1],y=function(){return j(c,h)},G=Object(a.useState)(y),I=Object(o.a)(G,2),B=I[0],D=I[1],x=Object(a.useState)(y),z=Object(o.a)(x,2),L=z[0],q=z[1];Object(a.useEffect)((function(){R(E(c,h,d)),D(j(c,h)),q(j(c,h))}),[c,h,d]);var A=function(e){return Math.round(10*e)/10},J=s(N.valueSeq())-s(L.valueSeq());return r.a.createElement("div",{className:"container"},r.a.createElement(k,{gameState:m,minesLeft:J,newGameButton:function(e){f(v.active),R(M),D(y),q(y)}}),r.a.createElement(S,{width:c,height:h,mineMap:N,countMap:F,revealMap:B,setRevealMap:D,flagMap:L,setFlagMap:q,gameState:m,setGameState:f}),r.a.createElement("div",{className:"controls"},r.a.createElement("strong",null,"Instructions:"),r.a.createElement("br",null),"Reveal: tap / click",r.a.createElement("br",null),"Flag: right-click / swipe up",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Alter minefield")," (starts new game):",r.a.createElement("br",null),r.a.createElement("div",null,"Size: ",r.a.createElement("button",{onClick:function(e){c>1&&i(c-1)}},"-"),c,r.a.createElement("button",{onClick:function(e){i(c+1)}},"+")),r.a.createElement("div",null,"Mines density: ",r.a.createElement("button",{onClick:function(e){b(Math.max(A(d-.1),0))}},"-"),d,r.a.createElement("button",{onClick:function(e){b(Math.min(A(d+.1),1))}},"+"))))};var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.de87f5d5.chunk.js.map